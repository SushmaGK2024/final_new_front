{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useParams}from'react-router-dom';import'./UpdateExperience.css';// Importing CSS file\nimport{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateExperience=props=>{const{currrollno}=props;const history=useNavigate();useEffect(()=>{if(!currrollno){// Redirect to sign-in if currrollno is null\nhistory('/');}},[currrollno,history]);const[experience,setExperience]=useState({});const[educationalCriteria,setEducationalCriteria]=useState('');const[overallExperience,setOverallExperience]=useState('');const[tips,setTips]=useState('');const[company_name,setCompanyName]=useState('');const[batch,setBatch]=useState('');const[role,setRole]=useState('');const{id}=useParams();const token=localStorage.getItem('token');useEffect(()=>{const fetchExperience=async()=>{try{const response=await axios.get(\"https://backendf-fx8p.onrender.com/experiences/getexperience/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});setExperience(response.data[0]);setEducationalCriteria(response.data[0].educational_criteria);setOverallExperience(response.data[0].overall_experience);setTips(response.data[0].tips);setCompanyName(response.data[0].company_name);setBatch(response.data[0].batch);setRole(response.data[0].role_offered);}catch(error){console.error('Error fetching experience:',error);}};fetchExperience();},[id,token]);const handleSaveChanges=async e=>{e.preventDefault();const config={headers:{'Authorization':\"Bearer \".concat(token)}};const updatedData={educationalcriteria:educationalCriteria,overall_experience:overallExperience,tips:tips};try{const response=await axios.put(\"https://backendf-fx8p.onrender.com/experiences/experiences/\".concat(id),updatedData,config);console.log(\"Response:\",response.data);alert(\"Updates are saved successfully!!\");}catch(error){console.error('Error updating experience:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"update-experience-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"update-experience-title\",children:\"Update Experience\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSaveChanges,className:\"update-experience-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-updateexp-span\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-text-company\",children:company_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-updateexp-span\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Batch:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-text-batch\",children:batch})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-updateexp-span\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role Offered:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-text-role\",children:role})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-updateexp-span\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Educational Criteria:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educationalCriteria,onChange:e=>setEducationalCriteria(e.target.value),className:\"form-input-edu\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-updateexp\",style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{alignSelf:\"flex-start\"},children:\"Overall Experience:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:overallExperience,onChange:e=>setOverallExperience(e.target.value),className:\"form-textarea\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-updateexp\",style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{alignSelf:\"flex-start\"},children:\"Tips:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:tips,onChange:e=>setTips(e.target.value),className:\"form-textarea\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-button-updateexp\",children:\"Save Changes\"})]})]});};export default UpdateExperience;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","UpdateExperience","props","currrollno","history","experience","setExperience","educationalCriteria","setEducationalCriteria","overallExperience","setOverallExperience","tips","setTips","company_name","setCompanyName","batch","setBatch","role","setRole","id","token","localStorage","getItem","fetchExperience","response","get","concat","headers","Authorization","data","educational_criteria","overall_experience","role_offered","error","console","handleSaveChanges","e","preventDefault","config","updatedData","educationalcriteria","put","log","alert","className","children","onSubmit","type","value","onChange","target","style","display","flexDirection","alignSelf"],"sources":["C:/Users/sushm/OneDrive/Desktop/Git uploads/final_new_front/src/components/UpdateExperience.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport './UpdateExperience.css';  // Importing CSS file\r\nimport { useNavigate } from 'react-router-dom';\r\nconst UpdateExperience = (props) => {\r\n  const {currrollno}=props;\r\n  const history = useNavigate();\r\n  useEffect(() => {\r\n    if (!currrollno) {\r\n      // Redirect to sign-in if currrollno is null\r\n      history('/');\r\n    }\r\n  }, [currrollno, history]);\r\n  const [experience, setExperience] = useState({});\r\n  const [educationalCriteria, setEducationalCriteria] = useState('');\r\n  const [overallExperience, setOverallExperience] = useState('');\r\n  const [tips, setTips] = useState('');\r\n  const [company_name, setCompanyName] = useState('');\r\n  const [batch, setBatch] = useState('');\r\n  const [role, setRole] = useState('');\r\n  const { id } = useParams();\r\n  const token = localStorage.getItem('token');\r\n\r\n  useEffect(() => {\r\n    const fetchExperience = async () => {\r\n      try {\r\n        const response = await axios.get(`https://backendf-fx8p.onrender.com/experiences/getexperience/${id}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        setExperience(response.data[0]);\r\n        setEducationalCriteria(response.data[0].educational_criteria);\r\n        setOverallExperience(response.data[0].overall_experience);\r\n        setTips(response.data[0].tips);\r\n        setCompanyName(response.data[0].company_name)\r\n        setBatch(response.data[0].batch)\r\n        setRole(response.data[0].role_offered)\r\n      } catch (error) {\r\n        console.error('Error fetching experience:', error);\r\n      }\r\n    };\r\n\r\n    fetchExperience();\r\n  }, [id, token]);\r\n\r\n  const handleSaveChanges = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    const config = {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    };\r\n\r\n    const updatedData = {\r\n      educationalcriteria: educationalCriteria,\r\n      overall_experience: overallExperience,\r\n      tips: tips\r\n    };\r\n\r\n    try {\r\n      const response = await axios.put(`https://backendf-fx8p.onrender.com/experiences/experiences/${id}`, updatedData, config);\r\n      console.log(\"Response:\", response.data);\r\n      alert(\"Updates are saved successfully!!\");\r\n    } catch (error) {\r\n      console.error('Error updating experience:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"update-experience-container\">\r\n      <h2 className=\"update-experience-title\">Update Experience</h2>\r\n      <form onSubmit={handleSaveChanges} className=\"update-experience-form\">\r\n        <div className=\"form-group-updateexp-span\">\r\n          <label>Company Name:</label>\r\n          <span className=\"form-text-company\"  >{company_name}</span>\r\n        </div>\r\n        <div className=\"form-group-updateexp-span\">\r\n          <label>Batch:</label>\r\n          <span className=\"form-text-batch\" >{batch}</span>\r\n        </div>\r\n        <div className=\"form-group-updateexp-span\">\r\n          <label>Role Offered:</label>\r\n          <span className=\"form-text-role\" >{role}</span>\r\n        </div>\r\n        <div className=\"form-group-updateexp-span\" >\r\n          <label>Educational Criteria:</label>\r\n          <input \r\n            type=\"text\"\r\n            value={educationalCriteria}\r\n            onChange={(e) => setEducationalCriteria(e.target.value)}\r\n            className=\"form-input-edu\" \r\n          />\r\n        </div>\r\n        <div className=\"form-group-updateexp\" style={{display:\"flex\", flexDirection:\"column\"}}>\r\n          <label style={{alignSelf:\"flex-start\"}}>Overall Experience:</label>\r\n          <textarea \r\n            value={overallExperience}\r\n            onChange={(e) => setOverallExperience(e.target.value)}\r\n            className=\"form-textarea\"\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"form-group-updateexp\" style={{display:\"flex\", flexDirection:\"column\"}}>\r\n          <label style={{alignSelf:\"flex-start\"}}>Tips:</label>\r\n          <textarea \r\n            value={tips}\r\n            onChange={(e) => setTips(e.target.value)}\r\n            className=\"form-textarea\" \r\n          ></textarea>\r\n        </div>\r\n        <button type=\"submit\" className=\"form-button-updateexp\" >Save Changes</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateExperience;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,wBAAwB,CAAG;AAClC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC/C,KAAM,CAAAC,gBAAgB,CAAIC,KAAK,EAAK,CAClC,KAAM,CAACC,UAAU,CAAC,CAACD,KAAK,CACxB,KAAM,CAAAE,OAAO,CAAGR,WAAW,CAAC,CAAC,CAC7BH,SAAS,CAAC,IAAM,CACd,GAAI,CAACU,UAAU,CAAE,CACf;AACAC,OAAO,CAAC,GAAG,CAAC,CACd,CACF,CAAC,CAAE,CAACD,UAAU,CAAEC,OAAO,CAAC,CAAC,CACzB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChD,KAAM,CAACe,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAClE,KAAM,CAACiB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC9D,KAAM,CAACmB,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACqB,YAAY,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACnD,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACyB,IAAI,CAAEC,OAAO,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAE2B,EAAG,CAAC,CAAGxB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAyB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C7B,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8B,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA9B,KAAK,CAAC+B,GAAG,iEAAAC,MAAA,CAAiEP,EAAE,EAAI,CACrGQ,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYN,KAAK,CAChC,CACF,CAAC,CAAC,CACFd,aAAa,CAACkB,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC,CAC/BrB,sBAAsB,CAACgB,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACC,oBAAoB,CAAC,CAC7DpB,oBAAoB,CAACc,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACE,kBAAkB,CAAC,CACzDnB,OAAO,CAACY,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAAClB,IAAI,CAAC,CAC9BG,cAAc,CAACU,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAAChB,YAAY,CAAC,CAC7CG,QAAQ,CAACQ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACd,KAAK,CAAC,CAChCG,OAAO,CAACM,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACG,YAAY,CAAC,CACxC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAEDV,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACJ,EAAE,CAAEC,KAAK,CAAC,CAAC,CAEf,KAAM,CAAAe,iBAAiB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACrCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,MAAM,CAAG,CACbX,OAAO,CAAE,CACP,eAAe,WAAAD,MAAA,CAAYN,KAAK,CAClC,CACF,CAAC,CAED,KAAM,CAAAmB,WAAW,CAAG,CAClBC,mBAAmB,CAAEjC,mBAAmB,CACxCwB,kBAAkB,CAAEtB,iBAAiB,CACrCE,IAAI,CAAEA,IACR,CAAC,CAED,GAAI,CACF,KAAM,CAAAa,QAAQ,CAAG,KAAM,CAAA9B,KAAK,CAAC+C,GAAG,+DAAAf,MAAA,CAA+DP,EAAE,EAAIoB,WAAW,CAAED,MAAM,CAAC,CACzHJ,OAAO,CAACQ,GAAG,CAAC,WAAW,CAAElB,QAAQ,CAACK,IAAI,CAAC,CACvCc,KAAK,CAAC,kCAAkC,CAAC,CAC3C,CAAE,MAAOV,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAED,mBACEjC,KAAA,QAAK4C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C/C,IAAA,OAAI8C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAC9D7C,KAAA,SAAM8C,QAAQ,CAAEX,iBAAkB,CAACS,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACnE7C,KAAA,QAAK4C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC/C,IAAA,UAAA+C,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5B/C,IAAA,SAAM8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAIhC,YAAY,CAAO,CAAC,EACxD,CAAC,cACNb,KAAA,QAAK4C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC/C,IAAA,UAAA+C,QAAA,CAAO,QAAM,CAAO,CAAC,cACrB/C,IAAA,SAAM8C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAG9B,KAAK,CAAO,CAAC,EAC9C,CAAC,cACNf,KAAA,QAAK4C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC/C,IAAA,UAAA+C,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5B/C,IAAA,SAAM8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAG5B,IAAI,CAAO,CAAC,EAC5C,CAAC,cACNjB,KAAA,QAAK4C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC/C,IAAA,UAAA+C,QAAA,CAAO,uBAAqB,CAAO,CAAC,cACpC/C,IAAA,UACEiD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEzC,mBAAoB,CAC3B0C,QAAQ,CAAGb,CAAC,EAAK5B,sBAAsB,CAAC4B,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CACxDJ,SAAS,CAAC,gBAAgB,CAC3B,CAAC,EACC,CAAC,cACN5C,KAAA,QAAK4C,SAAS,CAAC,sBAAsB,CAACO,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAAEC,aAAa,CAAC,QAAQ,CAAE,CAAAR,QAAA,eACpF/C,IAAA,UAAOqD,KAAK,CAAE,CAACG,SAAS,CAAC,YAAY,CAAE,CAAAT,QAAA,CAAC,qBAAmB,CAAO,CAAC,cACnE/C,IAAA,aACEkD,KAAK,CAAEvC,iBAAkB,CACzBwC,QAAQ,CAAGb,CAAC,EAAK1B,oBAAoB,CAAC0B,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CACtDJ,SAAS,CAAC,eAAe,CAChB,CAAC,EACT,CAAC,cACN5C,KAAA,QAAK4C,SAAS,CAAC,sBAAsB,CAACO,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAAEC,aAAa,CAAC,QAAQ,CAAE,CAAAR,QAAA,eACpF/C,IAAA,UAAOqD,KAAK,CAAE,CAACG,SAAS,CAAC,YAAY,CAAE,CAAAT,QAAA,CAAC,OAAK,CAAO,CAAC,cACrD/C,IAAA,aACEkD,KAAK,CAAErC,IAAK,CACZsC,QAAQ,CAAGb,CAAC,EAAKxB,OAAO,CAACwB,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CACzCJ,SAAS,CAAC,eAAe,CAChB,CAAC,EACT,CAAC,cACN9C,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE,cAAY,CAAQ,CAAC,EAC1E,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5C,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}